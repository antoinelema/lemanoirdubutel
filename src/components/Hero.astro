---
import { Image } from 'astro:assets';

interface Props {
  title: string;
  subtitle?: string;
  image: ImageMetadata;
  imageAlt: string;
  ctaText?: string;
  ctaLink?: string;
  height?: 'full' | 'large' | 'medium';
  imagePosition?: string;
}

const {
  title,
  subtitle,
  image,
  imageAlt,
  ctaText,
  ctaLink,
  height = 'full',
  imagePosition,
} = Astro.props;

const heightClass = {
  full: 'min-h-screen',
  large: 'min-h-[70vh]',
  medium: 'min-h-[50vh]',
}[height];
---

<section class={`relative ${heightClass} flex items-center justify-center overflow-hidden`}>
  <Image
    src={image}
    alt={imageAlt}
    class="absolute inset-0 w-full h-full object-cover"
    style={imagePosition ? `object-position: ${imagePosition}` : undefined}
    widths={[640, 1024, 1600]}
    sizes="100vw"
    loading="eager"
  />
  <div class="relative z-10 w-full px-4">
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="text-white hero-text-shadow mb-3">{title}</h1>
      {subtitle && (
        <p class="text-white/90 text-lg md:text-xl font-body leading-relaxed mb-8 hero-text-shadow-light">
          {subtitle}
        </p>
      )}
      {ctaText && ctaLink && (
        <a
          href={ctaLink}
          target={ctaLink.startsWith('http') ? '_blank' : undefined}
          rel={ctaLink.startsWith('http') ? 'noopener noreferrer' : undefined}
          class="btn-gold text-lg"
        >
          {ctaText}
        </a>
      )}
    </div>
  </div>

  <!-- Scroll indicator -->
  {height === 'full' && (
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce z-10">
      <svg class="w-6 h-6 text-white/70" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path d="M19 14l-7 7m0 0l-7-7m7 7V3" />
      </svg>
    </div>
  )}
</section>
